#ifndef JS_INIT_H
#define JS_INIT_H 1

//static const char *JS_INIT_CODE = "function runScriptsNPAPI(){var e=window.document.getElementsByTagName('embed');var t=window.document.getElementsByTagName('script');var n;for(var r=0;r<e.length;r++){if(e[r].type=='application/test-r'||e[r].type=='application/r'){n=e[r];break}}if(typeof n=='undefined')return;var i;var s;var o;for(var u=0;u<t.length;u++){i=t[u];if(i.type=='text/R'){o=n.eval(i.text);if(i.src)o=n.source(i.src)}}window.R=n;var a=document.createEvent('Events');a.initEvent('rcoderun',true,false);document.dispatchEvent(a)}function namedArgsCall(e,t){R[e](args(t))}function makeFun(e){function t(){var t=Array.prototype.slice.call(arguments);window.R.listCall(e,t)}return t}function args(e){e.namedArgsForR=true;if(typeof e.convertRet=='undefined'||e.convertRet=='default'||e.convertRet==0)e.convertRet=0;else if(e.convertRet=='reference'||e.convertRet==1)e.convertRet=1;else if(e.convertRet=='copy'||e.convertRet==2)e.convertRet=2;else if((e.convertRet=='custom'||e.convertRet==3)&&e.convertFun!='undefined')e.convertRet=3;else throw'Unrecognized value for convertRet argument:'+e.convertRet;return e}function create0(e){var t=new e;return t}function create1(e,t){var n=new e(t);return n}function create2(e,t,n){var r=new e(t,n);return r}function create3(e,t,n,r){var i=new e(t,n,r);return i}function create4(e,t,n,r,i){var s=new e(t,n,r,i);return s}window.emptyArg={emptyRArg:true};window.convertRet=setTimeout(runScriptsNPAPI,200)";

static const char *JS_INIT_CODE = "function runScriptsNPAPI(){var embs,stags,Reng,mytag,code,out,evt;embs=window.document.getElementsByTagName('embed');stags=window.document.getElementsByTagName('script');for(var j=0;j<embs.length;j++){if(embs[j].type=='application/test-r'||embs[j].type=='application/r'){Reng=embs[j];break}}if(typeof(Reng)=='undefined'){return}for(var i=0;i<stags.length;i++){mytag=stags[i];if(mytag.type=='text/R'){out=Reng.eval(mytag.text);if(mytag.src){out=Reng.source(mytag.src)}}}window.R=Reng;evt=document.createEvent('Events');evt.initEvent('rcoderun',true,false);document.dispatchEvent(evt)}function namedArgsCall(name,argvals){R[name](args(argvals))}function makeFun(obj){function fun(){var args=Array.prototype.slice.call(arguments);window.R.listCall(obj,args)}return fun}function args(obj){obj.namedArgsForR=true;if(typeof obj.convertRet=='undefined'||obj.convertRet=='default'||obj.convertRet==1){obj.convertRet=1}else{if(obj.convertRet=='reference'||obj.convertRet==0){obj.convertRet=0}else{if(obj.convertRet=='copy'||obj.convertRet==2){obj.convertRet=2}else{if((obj.convertRet=='custom'||obj.convertRet==3)&&obj.convertFun!='undefined'){obj.convertRet=3}else{throw'Unrecognized value for convertRet argument:'+obj.convertRet}}}}return obj}window.emptyArg={emptyRArg:true};function create0(obj){var ret=new obj();return ret}function create1(obj,param){var ret=new obj(param);return ret}function create2(obj,param1,param2){var ret=new obj(param1,param2);return ret}function create3(obj,param1,param2,param3){var ret=new obj(param1,param2,param3);return ret}function create4(obj,param1,param2,param3,param4){var ret=new obj(param1,param2,param3,param4);return ret}window.emptyArg={emptyRArg:true};window.standard=0;window.reference=1;window.copy=2;function convertRet(x){return{behavior:x,_convertRet:true}}setTimeout(runScriptsNPAPI,200);";
#endif //JS_INIT_CODE
