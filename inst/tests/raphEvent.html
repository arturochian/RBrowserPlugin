<html>
  <head>
    <script type="text/javascript" src = "../javascript/Rhelpers.js"></script>
<script type="text/javascript" src="../javascript/raphael.js"> </script>
    <script type="text/R">
      dev = raphaelDev("raphcont")
      plot.new()
      plot.window(xlim=c(-5,5), ylim=c(-5, 5))
      points(x=0, y=0, cex=10)
      myenv = dev$storage
      #hover won't work in chrome because typeof(npobjects) == "object
      #myenv$points[[1]]$hover(function(...) print("mouse in!"), function(...) print("mouse out!"))
      
      
      node = myenv$points[[1]][["node"]]
      itworked = function(...)
      {
        print("mouse in!!!")
       myenv$points[[1]]$attr("fill", "#ff0000")
      }
     #print(class(node))
     # node[["onmouseover"]] = itworked
     
      node$addEventListener("mouseover", itworked, FALSE, convertArgs = c(TRUE, FALSE, TRUE))
      
    </script>
  </head>
  <body>
    <embed id="REngine" type="application/test-r" width="0" height="0"></embed>
   <div id="raphcont"/>
  </body>
</html>
