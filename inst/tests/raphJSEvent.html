<html>
  <head>
    <script type="text/javascript" src = "../javascript/Rhelpers.js"></script>
    <script type="text/javascript" src="../javascript/raphael.js"> </script>
    <script type="text/R">
      itworked = function(...)
      {
        print("within event handler!")
      }
    </script>
  </head>
  <body>
    <embed id="REngine" type="application/r" width="0" height="0"></embed>
 
  <div id="raphcont"/>
  <script type="text/javascript">
    function doit()
    {
    var paper = new Raphael("raphcont", 500, 500);
    var myc = paper.circle(70, 70, 10);
    var rprint = R.print;
     R.print("print test non-eventhandler");
    var worked = R.itworked;
    //hover doesn't work in chrome because RFunction objects are not of type "function" in chrome
//    myc.hover(worked, worked);
    myc.node.onmouseover = worked;

    
}
    document.addEventListener("rcoderun", doit, true);
  </script>
  </body>
</html>

