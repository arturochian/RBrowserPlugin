<html>
  <head>
    <script type="text/javascript" src = "../javascript/Rhelpers.js"></script>
<script type="text/javascript" src="../javascript/raphael.js"> </script>
<script type="text/R">
  makedat = function(i)
  {
    seq(1, i)
  }
</script>
  <script type="text/javascript">
       
  function dumbconv(ref)
  {
     return ref[1] + ref[3]; //remember 1 and 3 are the 2nd and 4th indexes in javascript
  }
function dotest()
{
  ret = R.makedat(args({i:5, convertRet : "custom", convertFun : dumbconv}));
 
  if(ret == 6)
    document.getElementById("divout").innerHTML = "success!";
  else 
    document.getElementById("divout").innerHTML = "conversion failed";
}
</script>
</head>
<body>
    <embed id="REngine" type="application/test-r" width="0" height="0"></embed>
<input type="button"  onclick="dotest();"/>
<div id="divout"></div>
</body>
</html>
