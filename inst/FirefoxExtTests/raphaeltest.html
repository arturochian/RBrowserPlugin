<html>
  <head>
<!--
    <script type="text/javascript" src="http://github.com/DmitryBaranovskiy/raphael/raw/master/raphael.js"> </script>
-->    

<script type="text/javascript" src="../javascript/raphael.js"> </script>
<script type="text/javascript" src="../javascript/Rhelpers.js"> </script>

    <script type="text/R">
      library(RFirefox)
      thing = raphaelDev("raphcanvas")
      print(class(thing))
      #plot(1:10)
      x = rnorm(100)
      y = rnorm(100, x^2)
      sp = smooth.spline(x, y)
      plot(x, y, cex=1.5)
      lines(sp, col="blue")
      if(FALSE)
{
      #print(thing$getPoints()[[1]])
      call_JS_Method(ScriptCon, thing$getPoints()[[3]],
        "attr", c("fill", "#3b4449"))

      colorThem = function(e)
      {
        print("I'm in the function")
        pts = thing$getPoints()
        sapply(1:length(pts),
          function(x)
          {
            #if (x %% 2 == 0)
              call_JS_Method(ScriptCon, pts[[x]], "attr", 
                c("fill", "#3b4449"), addRoot = FALSE)
              print("call_JS_Method called")
          })
         print("I'm leaving the function")
      }
      #colorThem(2)
}
    </script>
  </head>
  <body>
    <div id="test1"> </div>
    <div id="test2"> </div>
    <div id="test3"> </div>
    <div id="test4"> </div>
    <div id="raphcanvas" height="600" width="400" />
    
  </body>
</html>
